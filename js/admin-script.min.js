!function(e){var t={init:function(){this.click_and_select_shortcode(),this.click_and_select_all(),this.handle_post_type_change(),this.show_hide_element_on_change(),this.quick_ajax_tabs(),this.copy_code(),this.quick_ajax_function_generator(),this.accordion_block_toggle()},handle_post_type_change:function(){"undefined"!=typeof qapl_quick_ajax_helper&&qapl_quick_ajax_helper&&e("#"+qapl_quick_ajax_helper.quick_ajax_settings_wrapper+" #"+qapl_quick_ajax_helper.quick_ajax_post_type).length&&e("#"+qapl_quick_ajax_helper.quick_ajax_settings_wrapper+" #"+qapl_quick_ajax_helper.quick_ajax_post_type).on("change",(function(){var t=e(this).val();e.ajax({url:qapl_quick_ajax_helper.ajax_url,type:"POST",data:{action:"qapl_quick_ajax_get_taxonomies_by_post_type",post_type:t,nonce:qapl_quick_ajax_helper.nonce},success:function(t){if(t&&t.data){var a=e("#"+qapl_quick_ajax_helper.quick_ajax_settings_wrapper+" #"+qapl_quick_ajax_helper.quick_ajax_taxonomy);a.empty(),a.append(t.data)}},error:function(e,t,a){}})}))},show_hide_element_on_change:function(){e(".show-hide-element").each((function(){var t=e(this).find("input"),a=t.attr("id");t.change((function(){t.is(":checked")?e('div[data-item="'+a+'"]').removeClass("inactive"):e('div[data-item="'+a+'"]').addClass("inactive")}))}))},quick_ajax_tabs:function(){if(e(".quick-ajax-tabs").length){const t=e(".quick-ajax-tab-button"),a=e(".quick-ajax-tab-content");t.on("click",(function(_){_.preventDefault();const n=e(this).data("tab");t.removeClass("active").attr("aria-selected","false").attr("tabindex","-1"),a.removeClass("active").attr("hidden",!0),e(this).addClass("active").attr("aria-selected","true").attr("tabindex","0"),e("#"+n).addClass("active").attr("hidden",!1)})),t.on("keydown",(function(e){const a=t.index(this);let _;if("ArrowRight"===e.key)_=(a+1)%t.length;else{if("ArrowLeft"!==e.key)return;_=(a-1+t.length)%t.length}t.eq(_).focus().click()}))}},copy_code:function(){e(".copy-button").on("click",(function(){var t=e("#"+e(this).data("copy")),a=e("<textarea>").val(t.text()).appendTo("body").select();try{navigator.clipboard.writeText(t.text()).then((()=>{})).catch((e=>{}))}finally{a.remove(),e(this).text("Code Copied"),setTimeout((()=>{e(this).text("Copy Code")}),2e3)}}))},generateId:function(e){let t=0;for(let a=0;a<e.length;a++)t+=e.charCodeAt(a),a%2==0?t+=e.charCodeAt(a):t-=e.charCodeAt(a);return t},getExcludedPostIds:function(e){var t=e.split(/[,\s]+/),a=[];return t.forEach((function(e){/^\d+$/.test(e)&&-1===a.indexOf(e)&&a.push(e)})),a.join(", ")},cleanClassNames:function(e){let t=e.replace(/,/g," ").split(/\s+/);return t=t.filter(((e,t,a)=>!/^\d/.test(e)&&""!==e&&a.indexOf(e)===t)),t.join(" ")},quick_ajax_function_generator:function(){var t=this;e(".generate-function-button").on("click",(function(){var a=e(this),_=a.attr("data-output");a.prop("disabled",!0);var n=e('.copy-button[data-copy="'+_+'"]');n.prop("disabled",!0);var i={};e(".function-generator-wrap input, .function-generator-wrap select").each((function(t,a){var _=e(a),n=_.attr("name"),o=_.attr("id");if("checkbox"===a.type)if(n&&n.endsWith("[]")){let e=n.replace(/\[\]$/,"");i[e]||(i[e]=[]),_.prop("checked")&&i[e].push(_.val())}else i[o]=_.prop("checked")?1:0;else i[o]=_.val()}));let o=Object.values(i).join("");var c="";(c+="$quick_ajax_args = [\n",c+="    'post_type' => '"+i.qapl_select_post_type+"',\n",c+="    'posts_per_page' => "+i.qapl_select_posts_per_page+",\n","none"!==i.qapl_select_orderby&&(c+="    'orderby' => '"+i.qapl_select_orderby+"',\n"),c+="    'order' => '"+i.qapl_select_order+"',\n",""!==i.qapl_select_post_not_in)&&(c+="    'post__not_in' => ["+t.getExcludedPostIds(i.qapl_select_post_not_in)+"],\n");if(1===i.qapl_ignore_sticky_posts&&(c+="    'ignore_sticky_posts' => "+i.qapl_ignore_sticky_posts+",\n"),c+="];","undefined"!=typeof qapl_quick_ajax_helper&&qapl_quick_ajax_helper){var l={};if(l[qapl_quick_ajax_helper.quick_ajax_id]=t.generateId(o),1===i.qapl_layout_quick_ajax_css_style&&(l[qapl_quick_ajax_helper.quick_ajax_css_style]=i.qapl_layout_quick_ajax_css_style,l[qapl_quick_ajax_helper.grid_num_columns]=i.qapl_layout_select_columns_qty),i.qapl_layout_quick_ajax_post_item_template){var r=i.qapl_layout_quick_ajax_post_item_template;l[qapl_quick_ajax_helper.post_item_template]=r}if(i.qapl_layout_add_taxonomy_filter_class&&""!==i.qapl_layout_add_taxonomy_filter_class){r=t.cleanClassNames(i.qapl_layout_add_taxonomy_filter_class);l[qapl_quick_ajax_helper.taxonomy_filter_class]=r}if(i.qapl_layout_add_container_class&&""!==i.qapl_layout_add_container_class){r=t.cleanClassNames(i.qapl_layout_add_container_class);l[qapl_quick_ajax_helper.container_class]=r}1===i.qapl_show_custom_load_more_post_quantity&&(l[qapl_quick_ajax_helper.load_more_posts]=i.qapl_select_custom_load_more_post_quantity),1===i.qapl_override_global_loader_icon&&(l[qapl_quick_ajax_helper.loader_icon]=i.qapl_loader_icon),1===i.qapl_ajax_on_initial_load&&(l[qapl_quick_ajax_helper.ajax_initial_load]=i.qapl_ajax_on_initial_load),1===i.qapl_ajax_infinite_scroll&&(l[qapl_quick_ajax_helper.infinite_scroll]=i.qapl_ajax_infinite_scroll),1===i.qapl_show_end_post_message&&(l[qapl_quick_ajax_helper.show_end_message]=i.qapl_show_end_post_message)}var s="";Object.keys(l).length>0&&(s="",s+="$quick_ajax_attributes = [\n",Object.entries(l).forEach((([e,a])=>{let _;_=t.quick_ajax_is_numeric(a)?parseInt(a):"string"==typeof a?`'${a}'`:a,s+=`    '${e}' => ${_},\n`})),s=s.slice(0,-2)+"\n",s+="];");var p=null,u=null;if(1===i.qapl_show_order_button&&((p=i.qapl_select_orderby_button_options)&&p.length>0)){u="$quick_ajax_sort_options = [";u+=p.map((e=>`'${e}'`)).join(", "),u+="];"}var d="",q="";null!==p&&(d="",d+=u,q="",q+="if(function_exists('qapl_render_sort_controls')):\n",q+="    qapl_render_sort_controls(\n",q+="        $quick_ajax_args,\n",q+="        $quick_ajax_attributes,\n",q=(q+="        $quick_ajax_sort_options,\n").slice(0,-2)+"\n",q+="    );\n",q+="endif;");var x=null;if(1===i.qapl_show_select_taxonomy)x=i.qapl_select_taxonomy;var h="",f="";null!==x&&(h="",h+=`$quick_ajax_taxonomy = '${x}';`,f="",f+="if(function_exists('qapl_render_taxonomy_filter')):\n",f+="    qapl_render_taxonomy_filter(\n",f+="        $quick_ajax_args,\n",f+="        $quick_ajax_attributes,\n",f=(f+="        $quick_ajax_taxonomy,\n").slice(0,-2)+"\n",f+="    );\n",f+="endif;");var k="";k+="if(function_exists('qapl_render_post_container')):\n",k+="   qapl_render_post_container(\n",k+="       $quick_ajax_args,\n",""!==s&&(k+="       $quick_ajax_attributes,\n"),k=k.slice(0,-2)+"\n",k+="   );\n",k+="endif;";var j="";""!==c.trim()&&(j+="\n// Define AJAX query parameters for '"+i.qapl_select_post_type+"' type posts.\n",j+=c.trim()+"\n"),""!==s.trim()&&(j+="\n// Define attributes for AJAX.\n",j+=s.trim()+"\n"),""!==d.trim()&&(j+="\n// Set the sort options for the button.\n",j+=d.trim()+"\n"),""!==q.trim()&&(j+="\n// Render the sorting control button.\n",j+=q.trim()+"\n"),""!==h.trim()&&(j+="\n// Set the taxonomy for filtering posts.\n",j+=h.trim()+"\n"),""!==f.trim()&&(j+="\n// Render the navigation for '"+i.qapl_select_taxonomy+"' taxonomy.\n",j+=f.trim()+"\n"),""!==k.trim()&&(j+="\n// Render the grid for '"+i.qapl_select_post_type+"' type posts.\n",j+=k.trim()+"\n");var y=e("#"+_);y.empty();for(var m=j.split("\n"),g=0;g<m.length;g++)!function(e){setTimeout((function(){y.append(m[e]+"\n"),e===m.length-1&&(a.prop("disabled",!1),n.prop("disabled",!1))}),50*g)}(g)}))},quick_ajax_is_numeric:function(e){return/^-?\d+(\.\d+)?$/.test(e)},quick_ajax_color_picker:function(){e(".color-picker-field").wpColorPicker()},quick_ajax_select_text:function(e){var t,a;document.body.createTextRange?((t=document.body.createTextRange()).moveToElementText(e),t.select()):window.getSelection&&(a=window.getSelection(),(t=document.createRange()).selectNodeContents(e),a.removeAllRanges(),a.addRange(t))},click_and_select_shortcode:function(){var t=this;e(".quick-ajax-shortcode").on("click",(function(){t.quick_ajax_select_text(this)}))},click_and_select_all:function(){var t=this;e(".click-and-select-all").on("click",(function(){var a=e(this).find("code").get(0);t.quick_ajax_select_text(a)}))},accordion_block_toggle:function(){var t=e("#wpbody-content");if(t.find(".quick-ajax-tabs").length>0){var a=e("#adminmenuwrap").outerHeight();t.css("min-height",a)}e(".quick-ajax-accordion-toggle").click((function(){e(this).toggleClass("active").next(".quick-ajax-accordion-content").slideToggle(200)}))}};e(document).ready((function(){t.init()}))}(jQuery);